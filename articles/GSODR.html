<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>GSODR • GSODR</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="GSODR">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">GSODR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">4.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="active nav-item"><a class="nav-link" href="../articles/GSODR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/GSODR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>GSODR</h1>
                        <h4 data-toc-skip class="author">Adam H.
Sparks</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/GSODR/blob/master/vignettes/GSODR.Rmd" class="external-link"><code>vignettes/GSODR.Rmd</code></a></small>
      <div class="d-none name"><code>GSODR.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The GSOD or <a href="https://www.ncei.noaa.gov/access/metadata/landing-page/bin/iso?id=gov.noaa.ncdc:C00516" class="external-link">Global
Surface Summary of the Day (GSOD)</a> data provided by the US National
Centers for Environmental Information (NCEI) are a valuable source of
weather data with global coverage. However, the data files are
cumbersome and difficult to work with. {GSODR} aims to make it easy to
find, transfer and format the data you need for use in analysis and
provides six main functions for facilitating this:</p>
<ul>
<li><p><code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> - this function queries and transfers
files from the NCEI’s web server, reformats them and returns a data
frame.</p></li>
<li><p><code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> - this function takes individual
station files from the local disk and re-formats them returning a data
frame.</p></li>
<li><p><code><a href="../reference/nearest_stations.html">nearest_stations()</a></code> - this function returns a
<code>data.table</code> of stations with their metadata and the distance
in which they fall from the given radius (kilometres) of a point given
as latitude and longitude in order from nearest to farthest.</p></li>
<li><p><code><a href="../reference/get_inventory.html">get_inventory()</a></code> - this function downloads the latest
station inventory information from the NCEI’s server and returns the
header information about the latest version as a message in the console
and a tidy data frame of the stations’ inventory for each month that
data are reported.</p></li>
<li><p><code>get_history()</code> - this function downloads the latest
version of the isd-history.csv file from the NCEI’s server and returns a
{data.table} of the information for each station that is available. A
version of this file is distributed with {GSODR} internally and can be
updated with <code>update_internal_isd_history()</code>.</p></li>
<li><p><code><a href="../reference/get_updates.html">get_updates()</a></code> - this function downloads the
changelog for the GSOD data from the NCEI’s server and reorders it by
the most recent changes first.</p></li>
<li><p><code>update_internal_isd_history()</code> - this function
downloads the latest station list from the NCEI’s server updates the
package’s internal database of stations and their metadata. <strong>Not
recommended for normal use.</strong></p></li>
</ul>
<p>When reformatting data either with <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> or
<code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code>, all units are converted from United States
Customary System (USCS) to International System of Units (SI),
<em>e.g.</em>, inches to millimetres and Fahrenheit to Celsius. Data in
the R session summarise each year by station, which also includes vapour
pressure and relative humidity elements calculated from existing data in
GSOD.</p>
<p>For more information see the description of the data provided by
NCEI, <a href="https://www.ncei.noaa.gov/data/global-summary-of-the-day/doc/readme.txt" class="external-link uri">https://www.ncei.noaa.gov/data/global-summary-of-the-day/doc/readme.txt</a>.</p>
</div>
<div class="section level2">
<h2 id="using-get_gsod">Using get_GSOD()<a class="anchor" aria-label="anchor" href="#using-get_gsod"></a>
</h2>
<div class="section level3">
<h3 id="find-stations-in-or-near-toowoomba-queensland-australia">Find Stations in or near Toowoomba, Queensland, Australia<a class="anchor" aria-label="anchor" href="#find-stations-in-or-near-toowoomba-queensland-australia"></a>
</h3>
<p>{GSODR} provides lists of weather station locations and elevation
values. It’s easy to find all stations in Australia.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/GSODR/">"GSODR"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"isd_history.rda"</span>, package <span class="op">=</span> <span class="st">"GSODR"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create data.frame for Australia only</span></span>
<span><span class="va">Oz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">isd_history</span>, <span class="va">COUNTRY_NAME</span> <span class="op">==</span> <span class="st">"AUSTRALIA"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Oz</span></span></code></pre></div>
<pre><code><span><span class="co">## Key: &lt;STNID&gt;</span></span>
<span><span class="co">##              STNID                         NAME     LAT     LON</span></span>
<span><span class="co">##             &lt;char&gt;                       &lt;char&gt;   &lt;num&gt;   &lt;num&gt;</span></span>
<span><span class="co">##    1: 695023-99999          HORN ISLAND   (HID) -10.583 142.300</span></span>
<span><span class="co">##    2: 749430-99999           AIDELAIDE RIVER SE -13.300 131.133</span></span>
<span><span class="co">##    3: 749432-99999    BATCHELOR FIELD AUSTRALIA -13.049 131.066</span></span>
<span><span class="co">##    4: 749438-99999         IRON RANGE AUSTRALIA -12.700 143.300</span></span>
<span><span class="co">##    5: 749439-99999     MAREEBA AS/HOEVETT FIELD -17.050 145.400</span></span>
<span><span class="co">##   ---                                                          </span></span>
<span><span class="co">## 1415: 959890-99999      BICHENO (COUNCIL DEPOT) -41.867 148.300</span></span>
<span><span class="co">## 1416: 959950-99999 LORD HOWE ISLAND WINDY POINT -31.533 159.067</span></span>
<span><span class="co">## 1417: 959970-99999    HEARD ISLAND (ATLAS COVE) -53.017  73.400</span></span>
<span><span class="co">## 1418: 996600-99999          ENVIRONM BUOY 55011 -40.800 144.300</span></span>
<span><span class="co">## 1419: 999999-82101               NORTHWEST CAPE -22.333 114.050</span></span>
<span><span class="co">##       ELEV(M)   CTRY  STATE    BEGIN      END COUNTRY_NAME</span></span>
<span><span class="co">##         &lt;num&gt; &lt;char&gt; &lt;char&gt;    &lt;int&gt;    &lt;int&gt;       &lt;char&gt;</span></span>
<span><span class="co">##    1:      NA     AS        19420804 20030816    AUSTRALIA</span></span>
<span><span class="co">##    2:   131.0     AS        19430228 19440821    AUSTRALIA</span></span>
<span><span class="co">##    3:   107.0     AS        19421231 19430610    AUSTRALIA</span></span>
<span><span class="co">##    4:    18.0     AS        19420917 19440930    AUSTRALIA</span></span>
<span><span class="co">##    5:   443.0     AS        19420630 19440630    AUSTRALIA</span></span>
<span><span class="co">##   ---                                                     </span></span>
<span><span class="co">## 1415:    11.0     AS        19650101 20240908    AUSTRALIA</span></span>
<span><span class="co">## 1416:     4.0     AS        20120920 20240909    AUSTRALIA</span></span>
<span><span class="co">## 1417:     4.0     AS        19980301 20121220    AUSTRALIA</span></span>
<span><span class="co">## 1418:     0.0     AS        19930221 19970403    AUSTRALIA</span></span>
<span><span class="co">## 1419:    38.1     AS        19680305 19680430    AUSTRALIA</span></span>
<span><span class="co">##        ISO2C  ISO3C</span></span>
<span><span class="co">##       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">##    1:     AU    AUS</span></span>
<span><span class="co">##    2:     AU    AUS</span></span>
<span><span class="co">##    3:     AU    AUS</span></span>
<span><span class="co">##    4:     AU    AUS</span></span>
<span><span class="co">##    5:     AU    AUS</span></span>
<span><span class="co">##   ---              </span></span>
<span><span class="co">## 1415:     AU    AUS</span></span>
<span><span class="co">## 1416:     AU    AUS</span></span>
<span><span class="co">## 1417:     AU    AUS</span></span>
<span><span class="co">## 1418:     AU    AUS</span></span>
<span><span class="co">## 1419:     AU    AUS</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Look for a specific town in Australia</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">Oz</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"TOOWOOMBA"</span>, <span class="va">NAME</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Key: &lt;STNID&gt;</span></span>
<span><span class="co">##           STNID              NAME     LAT     LON ELEV(M)   CTRY</span></span>
<span><span class="co">##          &lt;char&gt;            &lt;char&gt;   &lt;num&gt;   &lt;num&gt;   &lt;num&gt; &lt;char&gt;</span></span>
<span><span class="co">## 1: 945510-99999         TOOWOOMBA -27.583 151.933     676     AS</span></span>
<span><span class="co">## 2: 955510-99999 TOOWOOMBA AIRPORT -27.550 151.917     642     AS</span></span>
<span><span class="co">##     STATE    BEGIN      END COUNTRY_NAME  ISO2C  ISO3C</span></span>
<span><span class="co">##    &lt;char&gt;    &lt;int&gt;    &lt;int&gt;       &lt;char&gt; &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">## 1:        19561231 19971231    AUSTRALIA     AU    AUS</span></span>
<span><span class="co">## 2:        19980301 20240909    AUSTRALIA     AU    AUS</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="download-a-single-station-and-year-using-get_gsod">Download a Single Station and Year Using get_GSOD()<a class="anchor" aria-label="anchor" href="#download-a-single-station-and-year-using-get_gsod"></a>
</h3>
<p>Now that we’ve seen where the reporting stations are located, we can
download weather data from the station Toowoomba, Queensland, Australia
for 2010 by using the STNID in the <code>station</code> parameter of
<code><a href="../reference/get_GSOD.html">get_GSOD()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_GSOD.html">get_GSOD</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2010</span>, station <span class="op">=</span> <span class="st">"955510-99999"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tbar</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Classes 'data.table' and 'data.frame':   365 obs. of  47 variables:</span></span>
<span><span class="co">##  $ STNID           : chr  "955510-99999" "955510-99999" "955510-99999" "955510-99999" ...</span></span>
<span><span class="co">##  $ NAME            : chr  "TOOWOOMBA AIRPORT" "TOOWOOMBA AIRPORT" "TOOWOOMBA AIRPORT" "TOOWOOMBA AIRPORT" ...</span></span>
<span><span class="co">##  $ CTRY            : chr  "AS" "AS" "AS" "AS" ...</span></span>
<span><span class="co">##  $ COUNTRY_NAME    : chr  "AUSTRALIA" "AUSTRALIA" "AUSTRALIA" "AUSTRALIA" ...</span></span>
<span><span class="co">##  $ ISO2C           : chr  "AU" "AU" "AU" "AU" ...</span></span>
<span><span class="co">##  $ ISO3C           : chr  "AUS" "AUS" "AUS" "AUS" ...</span></span>
<span><span class="co">##  $ STATE           : chr  "" "" "" "" ...</span></span>
<span><span class="co">##  $ LATITUDE        : num  -27.6 -27.6 -27.6 -27.6 -27.6 ...</span></span>
<span><span class="co">##  $ LONGITUDE       : num  152 152 152 152 152 ...</span></span>
<span><span class="co">##  $ ELEVATION       : num  642 642 642 642 642 642 642 642 642 642 ...</span></span>
<span><span class="co">##  $ BEGIN           : int  19980301 19980301 19980301 19980301 19980301 19980301 19980301 19980301 19980301 19980301 ...</span></span>
<span><span class="co">##  $ END             : int  20240909 20240909 20240909 20240909 20240909 20240909 20240909 20240909 20240909 20240909 ...</span></span>
<span><span class="co">##  $ YEARMODA        : Date, format: "2010-01-01" ...</span></span>
<span><span class="co">##  $ YEAR            : int  2010 2010 2010 2010 2010 2010 2010 2010 2010 2010 ...</span></span>
<span><span class="co">##  $ MONTH           : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ DAY             : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##  $ YDAY            : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##  $ TEMP            : num  21.2 23.2 21.4 18.9 20.5 21.9 21.3 20.9 21.9 22.3 ...</span></span>
<span><span class="co">##  $ TEMP_ATTRIBUTES : int  8 8 8 8 8 8 8 8 8 8 ...</span></span>
<span><span class="co">##  $ DEWP            : num  17.9 19.4 18.9 16.4 16.4 18.7 17.4 17.1 16.2 14.9 ...</span></span>
<span><span class="co">##  $ DEWP_ATTRIBUTES : int  8 8 8 8 8 8 8 8 8 8 ...</span></span>
<span><span class="co">##  $ SLP             : num  1013 1010 1012 1016 1016 ...</span></span>
<span><span class="co">##  $ SLP_ATTRIBUTES  : int  8 8 8 8 8 8 8 8 8 8 ...</span></span>
<span><span class="co">##  $ STP             : num  942 939 941 944 944 ...</span></span>
<span><span class="co">##  $ STP_ATTRIBUTES  : int  8 8 8 8 8 8 8 8 8 8 ...</span></span>
<span><span class="co">##  $ VISIB           : num  NA NA 14.3 23.3 NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ VISIB_ATTRIBUTES: int  0 0 6 4 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ WDSP            : num  4.3 3.7 7.6 8.7 7.5 6.3 7.8 7.5 6.8 6.3 ...</span></span>
<span><span class="co">##  $ WDSP_ATTRIBUTES : int  8 8 8 8 8 8 8 8 8 8 ...</span></span>
<span><span class="co">##  $ MXSPD           : num  6.7 5.1 10.3 10.3 10.8 7.7 8.7 8.7 8.2 7.2 ...</span></span>
<span><span class="co">##  $ GUST            : num  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ MAX             : num  25.8 26.5 28.7 24.1 24.6 26.8 26.1 26.5 27.4 28.7 ...</span></span>
<span><span class="co">##  $ MAX_ATTRIBUTES  : chr  NA NA NA NA ...</span></span>
<span><span class="co">##  $ MIN             : num  17.8 19.1 19.3 16.9 16.7 17.5 19.1 18.5 17.8 17.7 ...</span></span>
<span><span class="co">##  $ MIN_ATTRIBUTES  : chr  NA NA "*" "*" ...</span></span>
<span><span class="co">##  $ PRCP            : num  1.52 0.25 19.81 1.02 0.25 ...</span></span>
<span><span class="co">##  $ PRCP_ATTRIBUTES : chr  "G" "G" "G" "G" ...</span></span>
<span><span class="co">##  $ SNDP            : num  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ I_FOG           : num  0 0 1 0 0 1 1 0 1 1 ...</span></span>
<span><span class="co">##  $ I_RAIN_DRIZZLE  : num  0 0 1 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_SNOW_ICE      : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_HAIL          : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_THUNDER       : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_TORNADO_FUNNEL: num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ EA              : num  2 2.2 2.2 1.9 1.9 2.2 2 1.9 1.8 1.7 ...</span></span>
<span><span class="co">##  $ ES              : num  2.5 2.8 2.5 2.2 2.4 2.6 2.5 2.5 2.6 2.7 ...</span></span>
<span><span class="co">##  $ RH              : num  81.5 79.2 85.7 85.4 77.3 82.1 78.5 78.9 70.1 62.9 ...</span></span>
<span><span class="co">##  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="using-nearest_stations-to-download-multiple-stations-at-once">Using nearest_stations() to Download Multiple Stations at Once<a class="anchor" aria-label="anchor" href="#using-nearest_stations-to-download-multiple-stations-at-once"></a>
</h3>
<p>Using the <code><a href="../reference/nearest_stations.html">nearest_stations()</a></code> function, you can find
stations closest to a given point specified by latitude and longitude in
decimal degrees. This can be used to generate a vector to pass along to
<code><a href="../reference/get_GSOD.html">get_GSOD()</a></code> and download the stations of interest.</p>
<p>Warning messages will be generated as not all stations have data for
the requested year.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbar_stations</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nearest_stations.html">nearest_stations</a></span><span class="op">(</span>LAT <span class="op">=</span> <span class="op">-</span><span class="fl">27.5598</span>,</span>
<span>                                  LON <span class="op">=</span> <span class="fl">151.9507</span>,</span>
<span>                                  distance <span class="op">=</span> <span class="fl">50</span><span class="op">)</span><span class="op">$</span><span class="va">STNID</span></span>
<span></span>
<span><span class="va">tbar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_GSOD.html">get_GSOD</a></span><span class="op">(</span>years <span class="op">=</span> <span class="fl">2010</span>, station <span class="op">=</span> <span class="va">tbar_stations</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: </span></span>
<span><span class="co">## This station, 945510-99999, only provides data for years 1956 to 1997.</span></span>
<span><span class="co">## Please send a request that falls within these years.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: </span></span>
<span><span class="co">## This station, 949999-00170, only provides data for years 1971 to 1984.</span></span>
<span><span class="co">## Please send a request that falls within these years.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: </span></span>
<span><span class="co">## This station, 949999-00183, only provides data for years 1983 to 1984.</span></span>
<span><span class="co">## Please send a request that falls within these years.</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tbar</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Classes 'data.table' and 'data.frame':   1095 obs. of  47 variables:</span></span>
<span><span class="co">##  $ STNID           : chr  "945520-99999" "945520-99999" "945520-99999" "945520-99999" ...</span></span>
<span><span class="co">##  $ NAME            : chr  "OAKEY" "OAKEY" "OAKEY" "OAKEY" ...</span></span>
<span><span class="co">##  $ CTRY            : chr  "AS" "AS" "AS" "AS" ...</span></span>
<span><span class="co">##  $ COUNTRY_NAME    : chr  "AUSTRALIA" "AUSTRALIA" "AUSTRALIA" "AUSTRALIA" ...</span></span>
<span><span class="co">##  $ ISO2C           : chr  "AU" "AU" "AU" "AU" ...</span></span>
<span><span class="co">##  $ ISO3C           : chr  "AUS" "AUS" "AUS" "AUS" ...</span></span>
<span><span class="co">##  $ STATE           : chr  "" "" "" "" ...</span></span>
<span><span class="co">##  $ LATITUDE        : num  -27.4 -27.4 -27.4 -27.4 -27.4 ...</span></span>
<span><span class="co">##  $ LONGITUDE       : num  152 152 152 152 152 ...</span></span>
<span><span class="co">##  $ ELEVATION       : num  407 407 407 407 407 ...</span></span>
<span><span class="co">##  $ BEGIN           : int  19730430 19730430 19730430 19730430 19730430 19730430 19730430 19730430 19730430 19730430 ...</span></span>
<span><span class="co">##  $ END             : int  20240909 20240909 20240909 20240909 20240909 20240909 20240909 20240909 20240909 20240909 ...</span></span>
<span><span class="co">##  $ YEARMODA        : Date, format: "2010-01-01" ...</span></span>
<span><span class="co">##  $ YEAR            : int  2010 2010 2010 2010 2010 2010 2010 2010 2010 2010 ...</span></span>
<span><span class="co">##  $ MONTH           : int  1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">##  $ DAY             : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##  $ YDAY            : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">##  $ TEMP            : num  23.4 26.2 24.5 21.6 22.6 24.7 24 23.3 24.4 25.1 ...</span></span>
<span><span class="co">##  $ TEMP_ATTRIBUTES : int  16 16 16 16 16 16 16 16 16 16 ...</span></span>
<span><span class="co">##  $ DEWP            : num  18.4 19.4 19.4 16.8 16.9 18.7 17.1 17.1 15.7 13.6 ...</span></span>
<span><span class="co">##  $ DEWP_ATTRIBUTES : int  16 16 16 16 16 16 16 16 16 16 ...</span></span>
<span><span class="co">##  $ SLP             : num  1012 1009 1011 1015 1015 ...</span></span>
<span><span class="co">##  $ SLP_ATTRIBUTES  : int  16 16 16 16 16 16 16 16 16 16 ...</span></span>
<span><span class="co">##  $ STP             : num  967 964 966 969 969 ...</span></span>
<span><span class="co">##  $ STP_ATTRIBUTES  : int  16 16 16 16 16 16 16 16 16 16 ...</span></span>
<span><span class="co">##  $ VISIB           : num  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ VISIB_ATTRIBUTES: int  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ WDSP            : num  4.3 4.1 6.1 7.5 4.4 4.3 5.8 6.2 5.6 4.5 ...</span></span>
<span><span class="co">##  $ WDSP_ATTRIBUTES : int  16 16 16 16 16 16 16 16 16 16 ...</span></span>
<span><span class="co">##  $ MXSPD           : num  7.2 6.2 8.7 9.8 7.7 6.2 8.2 9.3 7.7 7.2 ...</span></span>
<span><span class="co">##  $ GUST            : num  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ MAX             : num  28.5 31.2 33.6 27.1 27.8 30.4 30 30.5 31.9 33.2 ...</span></span>
<span><span class="co">##  $ MAX_ATTRIBUTES  : chr  NA NA NA NA ...</span></span>
<span><span class="co">##  $ MIN             : num  19.5 20.5 21.3 18.8 18.4 18.6 20.6 18.6 17.2 16.2 ...</span></span>
<span><span class="co">##  $ MIN_ATTRIBUTES  : chr  NA NA "*" "*" ...</span></span>
<span><span class="co">##  $ PRCP            : num  0.51 0 3.3 0 0 0 0 0.25 0 0 ...</span></span>
<span><span class="co">##  $ PRCP_ATTRIBUTES : chr  "G" "G" "G" "G" ...</span></span>
<span><span class="co">##  $ SNDP            : num  NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">##  $ I_FOG           : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_RAIN_DRIZZLE  : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_SNOW_ICE      : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_HAIL          : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_THUNDER       : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ I_TORNADO_FUNNEL: num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">##  $ EA              : num  2.1 2.2 2.2 1.9 1.9 2.2 1.9 1.9 1.8 1.6 ...</span></span>
<span><span class="co">##  $ ES              : num  2.9 3.4 3.1 2.6 2.7 3.1 3 2.9 3.1 3.2 ...</span></span>
<span><span class="co">##  $ RH              : num  73.5 66.2 73.3 74.2 70.2 69.3 65.3 68.2 58.4 48.9 ...</span></span>
<span><span class="co">##  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="plot-maximum-and-minimum-temperature-values">Plot Maximum and Minimum Temperature Values<a class="anchor" aria-label="anchor" href="#plot-maximum-and-minimum-temperature-values"></a>
</h3>
<p>Using the first data downloaded for a single station, 955510-99999,
plot the temperature for 2010.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://tidyr.tidyverse.org" class="external-link">"tidyr"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a dataframe of just the date and temperature values that we want to</span></span>
<span><span class="co"># plot</span></span>
<span><span class="va">tbar_temps</span> <span class="op">&lt;-</span> <span class="va">tbar</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"YEARMODA"</span>, <span class="st">"TEMP"</span>, <span class="st">"MAX"</span>, <span class="st">"MIN"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Gather the data from wide to long</span></span>
<span><span class="va">tbar_temps</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="va">tbar_temps</span>, cols <span class="op">=</span> <span class="va">TEMP</span><span class="op">:</span><span class="va">MIN</span>, names_to <span class="op">=</span> <span class="st">"Measurement"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">tbar_temps</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">YEARMODA</span>,</span>
<span>                              y <span class="op">=</span> <span class="va">value</span>,</span>
<span>                              colour <span class="op">=</span> <span class="va">Measurement</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_color_brewer</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"qual"</span>, na.value <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Temperature"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Date"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"Max, min and mean temperatures for Toowoomba, Qld, AU"</span>,</span>
<span>          subtitle <span class="op">=</span> <span class="st">"Data: U.S. NCEI GSOD"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="Ex5-1.png" alt="plot of chunk Ex5"><p class="caption">
plot of chunk Ex5
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="using-reformat_gsod">Using reformat_GSOD()<a class="anchor" aria-label="anchor" href="#using-reformat_gsod"></a>
</h2>
<p>You may have already downloaded GSOD data or may just wish to use
your browser to download the files from the server to you local disk and
not use the capabilities of <code><a href="../reference/get_GSOD.html">get_GSOD()</a></code>. In that case the
<code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> function is useful.</p>
<p>There are two ways, you can either provide
<code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> with a list of specified station files or
you can supply it with a directory containing all of the “STATION.csv”
station files or “YEAR.zip” annual files that you wish to reformat.</p>
<p><strong>Note</strong> <em>Any</em> .csv file provided to
<code><a href="../reference/reformat_GSOD.html">reformat_GSOD()</a></code> will be imported, if it is not a GSOD data
file, this will lead to an error. Make sure the directory and file lists
are clean.</p>
<div class="section level3">
<h3 id="reformat-a-list-of-local-files">Reformat a List of Local Files<a class="anchor" aria-label="anchor" href="#reformat-a-list-of-local-files"></a>
</h3>
<p>In this example two STATION.csv files are in subdirectories of user’s
home directory and are listed for reformatting as a string.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"~/GSOD/gsod_1960/20049099999.csv"</span>,</span>
<span>       <span class="st">"~/GSOD/gsod_1961/20049099999.csv"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_GSOD.html">reformat_GSOD</a></span><span class="op">(</span>file_list <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reformat-all-local-files-found-in-directory">Reformat all Local Files Found in Directory<a class="anchor" aria-label="anchor" href="#reformat-all-local-files-found-in-directory"></a>
</h3>
<p>In this example all STATION.csv files in the sub-folder
GSOD/gsod_1960 will be imported and reformatted.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_GSOD.html">reformat_GSOD</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="st">"~/GSOD/gsod_1960"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="using-get_updates">Using get_updates()<a class="anchor" aria-label="anchor" href="#using-get_updates"></a>
</h2>
<p>{GSODR} provides a function, <code><a href="../reference/get_updates.html">get_updates()</a></code>, to retrieve
the changelog for the GSOD data and return it in order from newest to
oldest changes to the data set.</p>
<p>Following is an example how to use this function.</p>
<p><code>{r Ex17, eval=TRUE, message=FALSE}' get_updates()</code></p>
</div>
<div class="section level2">
<h2 id="using-get_inventory">Using get_inventory()<a class="anchor" aria-label="anchor" href="#using-get_inventory"></a>
</h2>
<p>{GSODR} provides a function, <code><a href="../reference/get_inventory.html">get_inventory()</a></code> to retrieve
an inventory of the number of weather observations by station-year-month
for the beginning of record through to current.</p>
<p>Following is an example of how to retrieve the inventory and check a
station in Toowoomba, Queensland, Australia, which was used in an
earlier example.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inventory</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_inventory.html">get_inventory</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">inventory</span></span></code></pre></div>
<pre><code><span><span class="co">##   *** FEDERAL CLIMATE COMPLEX INTEGRATED SURFACE DATA INVENTORY ***  </span></span>
<span><span class="co">##    This inventory provides the number of weather observations by  </span></span>
<span><span class="co">##    STATION-YEAR-MONTH for beginning of record through October 2024  </span></span>
<span><span class="co">## Key: &lt;STNID&gt;</span></span>
<span><span class="co">##                STNID                NAME    LAT    LON ELEV(M)</span></span>
<span><span class="co">##               &lt;char&gt;              &lt;char&gt;  &lt;num&gt;  &lt;num&gt;   &lt;num&gt;</span></span>
<span><span class="co">##      1: 008415-99999                &lt;NA&gt;     NA     NA      NA</span></span>
<span><span class="co">##      2: 010010-99999 JAN MAYEN(NOR-NAVY) 70.933 -8.667       9</span></span>
<span><span class="co">##      3: 010010-99999 JAN MAYEN(NOR-NAVY) 70.933 -8.667       9</span></span>
<span><span class="co">##      4: 010010-99999 JAN MAYEN(NOR-NAVY) 70.933 -8.667       9</span></span>
<span><span class="co">##      5: 010010-99999 JAN MAYEN(NOR-NAVY) 70.933 -8.667       9</span></span>
<span><span class="co">##     ---                                                       </span></span>
<span><span class="co">## 141861:   A51256-451                &lt;NA&gt;     NA     NA      NA</span></span>
<span><span class="co">## 141862:   A51256-451                &lt;NA&gt;     NA     NA      NA</span></span>
<span><span class="co">## 141863:   A51256-451                &lt;NA&gt;     NA     NA      NA</span></span>
<span><span class="co">## 141864:   A51256-451                &lt;NA&gt;     NA     NA      NA</span></span>
<span><span class="co">## 141865:   A51256-451                &lt;NA&gt;     NA     NA      NA</span></span>
<span><span class="co">##           CTRY  STATE    BEGIN      END COUNTRY_NAME  ISO2C</span></span>
<span><span class="co">##         &lt;char&gt; &lt;char&gt;    &lt;int&gt;    &lt;int&gt;       &lt;char&gt; &lt;char&gt;</span></span>
<span><span class="co">##      1:   &lt;NA&gt;   &lt;NA&gt;       NA       NA         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">##      2:     NO        19310101 20240909       NORWAY     NO</span></span>
<span><span class="co">##      3:     NO        19310101 20240909       NORWAY     NO</span></span>
<span><span class="co">##      4:     NO        19310101 20240909       NORWAY     NO</span></span>
<span><span class="co">##      5:     NO        19310101 20240909       NORWAY     NO</span></span>
<span><span class="co">##     ---                                                    </span></span>
<span><span class="co">## 141861:   &lt;NA&gt;   &lt;NA&gt;       NA       NA         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">## 141862:   &lt;NA&gt;   &lt;NA&gt;       NA       NA         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">## 141863:   &lt;NA&gt;   &lt;NA&gt;       NA       NA         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">## 141864:   &lt;NA&gt;   &lt;NA&gt;       NA       NA         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">## 141865:   &lt;NA&gt;   &lt;NA&gt;       NA       NA         &lt;NA&gt;   &lt;NA&gt;</span></span>
<span><span class="co">##          ISO3C  YEAR   JAN   FEB   MAR   APR   MAY   JUN   JUL</span></span>
<span><span class="co">##         &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">##      1:   &lt;NA&gt;  2020     0     0    14     0     0     0     0</span></span>
<span><span class="co">##      2:    NOR  2020   736   695   744   717   744   718   743</span></span>
<span><span class="co">##      3:    NOR  2021   686   562   729   710   733   654   726</span></span>
<span><span class="co">##      4:    NOR  2022   549   513   292    98     0     0   137</span></span>
<span><span class="co">##      5:    NOR  2023   738   657   715   713   735   666   735</span></span>
<span><span class="co">##     ---                                                       </span></span>
<span><span class="co">## 141861:   &lt;NA&gt;  2020  2165  1455  2144  2125  2199  2123  2112</span></span>
<span><span class="co">## 141862:   &lt;NA&gt;  2021  2085  1992  2217  1975  2146  2092  2227</span></span>
<span><span class="co">## 141863:   &lt;NA&gt;  2022  2203  1937  2204  2144  2218  2119  2224</span></span>
<span><span class="co">## 141864:   &lt;NA&gt;  2023  2006  1988  2172  1993  2063  2088  2189</span></span>
<span><span class="co">## 141865:   &lt;NA&gt;  2024  2223  1956  2215  2152  2221  2004  2210</span></span>
<span><span class="co">##           AUG   SEP   OCT   NOV   DEC</span></span>
<span><span class="co">##         &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">##      1:     0     0     0     0     0</span></span>
<span><span class="co">##      2:   742   718   694   708   740</span></span>
<span><span class="co">##      3:   717   712   737   714   630</span></span>
<span><span class="co">##      4:     0   292   709   708   724</span></span>
<span><span class="co">##      5:   726   693   729   698   741</span></span>
<span><span class="co">##     ---                              </span></span>
<span><span class="co">## 141861:  2192  2083  2079  2074  2187</span></span>
<span><span class="co">## 141862:  2170  2080  2163  2120  2168</span></span>
<span><span class="co">## 141863:  2209  2137  1743  2126  2201</span></span>
<span><span class="co">## 141864:  2182  2147  2199  2120  2197</span></span>
<span><span class="co">## 141865:  2124  1703     0     0     0</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">inventory</span>, <span class="va">STNID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"955510-99999"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   *** FEDERAL CLIMATE COMPLEX INTEGRATED SURFACE DATA INVENTORY ***  </span></span>
<span><span class="co">##    This inventory provides the number of weather observations by  </span></span>
<span><span class="co">##    STATION-YEAR-MONTH for beginning of record through October 2024  </span></span>
<span><span class="co">## Key: &lt;STNID&gt;</span></span>
<span><span class="co">##           STNID              NAME    LAT     LON ELEV(M)   CTRY</span></span>
<span><span class="co">##          &lt;char&gt;            &lt;char&gt;  &lt;num&gt;   &lt;num&gt;   &lt;num&gt; &lt;char&gt;</span></span>
<span><span class="co">## 1: 955510-99999 TOOWOOMBA AIRPORT -27.55 151.917     642     AS</span></span>
<span><span class="co">## 2: 955510-99999 TOOWOOMBA AIRPORT -27.55 151.917     642     AS</span></span>
<span><span class="co">## 3: 955510-99999 TOOWOOMBA AIRPORT -27.55 151.917     642     AS</span></span>
<span><span class="co">## 4: 955510-99999 TOOWOOMBA AIRPORT -27.55 151.917     642     AS</span></span>
<span><span class="co">## 5: 955510-99999 TOOWOOMBA AIRPORT -27.55 151.917     642     AS</span></span>
<span><span class="co">##     STATE    BEGIN      END COUNTRY_NAME  ISO2C  ISO3C  YEAR</span></span>
<span><span class="co">##    &lt;char&gt;    &lt;int&gt;    &lt;int&gt;       &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:        19980301 20240909    AUSTRALIA     AU    AUS  2020</span></span>
<span><span class="co">## 2:        19980301 20240909    AUSTRALIA     AU    AUS  2021</span></span>
<span><span class="co">## 3:        19980301 20240909    AUSTRALIA     AU    AUS  2022</span></span>
<span><span class="co">## 4:        19980301 20240909    AUSTRALIA     AU    AUS  2023</span></span>
<span><span class="co">## 5:        19980301 20240909    AUSTRALIA     AU    AUS  2024</span></span>
<span><span class="co">##      JAN   FEB   MAR   APR   MAY   JUN   JUL   AUG   SEP   OCT</span></span>
<span><span class="co">##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:   246   232   248   238   248   348   493   492   480   496</span></span>
<span><span class="co">## 2:   485   483   742   720   743   716   744   737   719   744</span></span>
<span><span class="co">## 3:   743   672   739   716   739   716   728   742   716   726</span></span>
<span><span class="co">## 4:   738   663   730   715   737   701   733   729   700   730</span></span>
<span><span class="co">## 5:   741   691   626   662   714   703   719   707   708   310</span></span>
<span><span class="co">##      NOV   DEC</span></span>
<span><span class="co">##    &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">## 1:   475   496</span></span>
<span><span class="co">## 2:   720   726</span></span>
<span><span class="co">## 3:   713   726</span></span>
<span><span class="co">## 4:   710   744</span></span>
<span><span class="co">## 5:     0     0</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="using-update_internal_isd_history">Using update_internal_isd_history()<a class="anchor" aria-label="anchor" href="#using-update_internal_isd_history"></a>
</h2>
<p>{GSODR} uses internal databases of station data from the NCEI to
provide location and other metadata, <em>e.g.</em> elevation, station
names, WMO codes, etc. to make the process of querying for weather data
faster. This database is created and packaged with {GSODR} for
distribution and is updated with new releases. Users have the option of
updating these databases after installing <em>GSODR</em>. While this
option gives the users the ability to keep the database up-to-date and
gives <em>GSODR’s</em> authors flexibility in maintaining it, this also
means that reproducibility may be affected since the same version of
{GSODR} may have different databases on different machines. If
reproducibility is necessary, care should be taken to ensure that the
version of the databases is the same across different machines.</p>
<p>The database file <code>isd_history.rda</code> can be located on your
local system by using the following command,
<code>paste0(.libPaths(), "/GSODR/extdata")[1]</code>, unless you have
specified another location for library installations and installed
{GSODR} there, in which case it would still be in
<code>GSODR/extdata</code>.</p>
<p>To update <em>GSODR’s</em> internal database of station locations
simply use <code><a href="../reference/update_station_list.html">update_station_list()</a></code>, which will update the
internal station database according to the latest data available from
the NCEI.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">update_internal_isd_history</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a>
</h2>
<div class="section level3">
<h3 id="wmo-resolution-40--noaa-policy">WMO Resolution 40. NOAA Policy<a class="anchor" aria-label="anchor" href="#wmo-resolution-40--noaa-policy"></a>
</h3>
<blockquote>
<p>The data summaries provided here are based on data exchanged under
the World Meteorological Organization (WMO) World Weather Watch Program
according to WMO Resolution 40 (Cg-XII). This allows WMO member
countries to place restrictions on the use or re-export of their data
for commercial purposes outside of the receiving country. Data for
selected countries may, at times, not be available through this system.
Those countries’ data summaries and products which are available here
are intended for free and unrestricted use in research, education, and
other non-commercial activities. However, for non-U.S. locations’ data,
the data or any derived product shall not be provided to other users or
be used for the re-export of commercial services.</p>
</blockquote>
</div>
</div>
<div class="section level2">
<h2 id="appendices">Appendices<a class="anchor" aria-label="anchor" href="#appendices"></a>
</h2>
<div class="section level3">
<h3 id="appendix-1-gsodr-final-data-format-contents-and-units">Appendix 1: GSODR Final Data Format, Contents and Units<a class="anchor" aria-label="anchor" href="#appendix-1-gsodr-final-data-format-contents-and-units"></a>
</h3>
<p>{GSODR} formatted data include the following fields and units:</p>
<ul>
<li><p><strong>STNID</strong> - Station number (WMO/DATSAV3 number) for
the location;</p></li>
<li><p><strong>NAME</strong> - Unique text identifier;</p></li>
<li><p><strong>CTRY</strong> - Country in which the station is located.
This field is the original FIPS code that NCEI provides;</p></li>
<li><p><strong>COUNTRY_NAME</strong> - Country in which the station is
located. This field is the country name in English language;</p></li>
<li><p><strong>ISO2C</strong> - Country in which the station is located.
This field is the two letter ISO country code;</p></li>
<li><p><strong>ISO3C</strong> - Country in which the station is located.
This field is the three letter ISO country code;</p></li>
<li><p><strong>LAT</strong> - Latitude. <em>Station dropped in cases
where values are &lt; -90 or &gt; 90 degrees or Lat = 0 and Lon =
0</em>;</p></li>
<li><p><strong>LON</strong> - Longitude. <em>Station dropped in cases
where values are &lt; -180 or &gt; 180 degrees or Lat = 0 and Lon =
0</em>;</p></li>
<li><p><strong>ELEVATION</strong> - Elevation in metres;</p></li>
<li><p><strong>YEARMODA</strong> - Date in YYYYMMDD format;</p></li>
<li><p><strong>YEAR</strong> - The year (YYYY);</p></li>
<li><p><strong>MONTH</strong> - The month (mm);</p></li>
<li><p><strong>DAY</strong> - The day (dd);</p></li>
<li><p><strong>YDAY</strong> - Sequential day of year (not in original
GSOD);</p></li>
<li><p><strong>TEMP</strong> - Mean daily temperature converted to
degrees C to tenths. Missing = <code>NA</code>;</p></li>
<li><p><strong>TEMP_ATTRIBUTES</strong> - Number of observations used in
calculating mean daily temperature;</p></li>
<li><p><strong>DEWP</strong> - Mean daily dew point converted to degrees
C to tenths. Missing = <code>NA</code>;</p></li>
<li><p><strong>DEWP_ATTRIBUTES</strong> - Number of observations used in
calculating mean daily dew point;</p></li>
<li><p><strong>SLP</strong> - Mean sea level pressure in millibars to
tenths. Missing = <code>NA</code>;</p></li>
<li><p><strong>SLP_ATTRIBUTES</strong> - Number of observations used in
calculating mean sea level pressure;</p></li>
<li><p><strong>STP</strong> - Mean station pressure for the day in
millibars to tenths. Missing = <code>NA</code>;</p></li>
<li><p><strong>STP_ATTRIBUTES</strong> - Number of observations used in
calculating mean station pressure;</p></li>
<li><p><strong>VISIB</strong> - Mean visibility for the day converted to
kilometres to tenths. Missing = <code>NA</code>;</p></li>
<li><p><strong>VISIB_ATTRIBUTES</strong> - Number of observations used
in calculating mean daily visibility;</p></li>
<li><p><strong>WDSP</strong> - Mean daily wind speed value converted to
metres/second to tenths. Missing = <code>NA</code>;</p></li>
<li><p><strong>WDSP_ATTRIBUTES</strong> - Number of observations used in
calculating mean daily wind speed;</p></li>
<li><p><strong>MXSPD</strong> - Maximum sustained wind speed reported
for the day converted to metres/second to tenths. Missing =
<code>NA</code>;</p></li>
<li><p><strong>GUST</strong> - Maximum wind gust reported for the day
converted to metres/second to tenths. Missing =
<code>NA</code>;</p></li>
<li><p><strong>MAX</strong> - Maximum temperature reported during the
day converted to Celsius to tenths–time of max temp report varies by
country and region, so this will sometimes not be the max for the
calendar day. Missing = <code>NA</code>;</p></li>
<li><p><strong>MAX_ATTRIBUTES</strong> - Blank indicates max temp was
taken from the explicit max temp report and not from the ‘hourly’ data.
An “*” indicates max temp was derived from the hourly data
(<em>i.e.</em>, highest hourly or synoptic-reported
temperature);</p></li>
<li><p><strong>MIN</strong> - Minimum temperature reported during the
day converted to Celsius to tenths–time of min temp report varies by
country and region, so this will sometimes not be the max for the
calendar day. Missing = <code>NA</code>;</p></li>
<li><p><strong>MIN_ATTRIBUTES</strong> - Blank indicates max temp was
taken from the explicit min temp report and not from the ‘hourly’ data.
An “*” indicates min temp was derived from the hourly data
(<em>i.e.</em>, highest hourly or synoptic-reported
temperature);</p></li>
<li><p><strong>PRCP</strong> - Total precipitation (rain and/or melted
snow) reported during the day converted to millimetres to hundredths;
will usually not end with the midnight observation, <em>i.e.</em>, may
include latter part of previous day. A value of “.00” indicates no
measurable precipitation (includes a trace). Missing = NA; <em>Note:
Many stations do not report ‘0’ on days with no precipitation–
therefore, <code>NA</code> will often appear on these days. For example,
a station may only report a 6-hour amount for the period during which
rain fell.</em> See <code>FLAGS_PRCP</code> column for source of
data;</p></li>
<li>
<p><strong>PRCP_ATTRIBUTES</strong> -</p>
<ul>
<li><p>A = 1 report of 6-hour precipitation amount;</p></li>
<li><p>B = Summation of 2 reports of 6-hour precipitation
amount;</p></li>
<li><p>C = Summation of 3 reports of 6-hour precipitation
amount;</p></li>
<li><p>D = Summation of 4 reports of 6-hour precipitation
amount;</p></li>
<li><p>E = 1 report of 12-hour precipitation amount;</p></li>
<li><p>F = Summation of 2 reports of 12-hour precipitation
amount;</p></li>
<li><p>G = 1 report of 24-hour precipitation amount;</p></li>
<li><p>H = Station reported ‘0’ as the amount for the day (<em>e.g.</em>
from 6-hour reports), but also reported at least one occurrence of
precipitation in hourly observations–this could indicate a trace
occurred, but should be considered as incomplete data for the
day;</p></li>
<li><p>I = Station did not report any precipitation data for the day and
did not report any occurrences of precipitation in its hourly
observations–it’s still possible that precipitation occurred but was not
reported;</p></li>
</ul>
</li>
<li><p><strong>SNDP</strong> - Snow depth in millimetres to tenths.
Missing = <code>NA</code>;</p></li>
<li><p><strong>I_FOG</strong> - Indicator for fog, (1 = yes, 0 = no/not
reported) for the occurrence during the day;</p></li>
<li><p><strong>I_RAIN_DRIZZLE</strong> - Indicator for rain or drizzle,
(1 = yes, 0 = no/not reported) for the occurrence during the
day;</p></li>
<li><p><strong>I_SNOW_ICE</strong> - Indicator for snow or ice pellets,
(1 = yes, 0 = no/not reported) for the occurrence during the
day;</p></li>
<li><p><strong>I_HAIL</strong> - Indicator for hail, (1 = yes, 0 =
no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_THUNDER</strong> - Indicator for thunder, (1 = yes, 0 =
no/not reported) for the occurrence during the day;</p></li>
<li><p><strong>I_TORNADO_FUNNEL</strong> - Indicator for tornado or
funnel cloud, (1 = yes, 0 = no/not reported) for the occurrence during
the day;</p></li>
<li><p><strong>EA</strong> - Mean daily actual vapour pressure as
calculated using improved August-Roche-Magnus approximation <span class="citation">(Alduchov and Eskridge 1996)</span>. Missing =
<code>NA</code>;</p></li>
<li><p><strong>ES</strong> - Mean daily saturation vapour pressure as
calculated using improved August-Roche-Magnus approximation <span class="citation">(Alduchov and Eskridge 1996)</span>. Missing =
<code>NA</code>;</p></li>
<li><p><strong>RH</strong> - Mean daily relative humidity as calculated
using improved August-Roche-Magnus approximation <span class="citation">(Alduchov and Eskridge 1996)</span>. Missing =
<code>NA</code>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="appendix-2-map-of-current-gsod-station-locations">Appendix 2: Map of Current GSOD Station Locations<a class="anchor" aria-label="anchor" href="#appendix-2-map-of-current-gsod-station-locations"></a>
</h3>
<div class="figure" style="text-align: center">
<img src="GSOD_Station_locations-1.png" alt="GSOD Station Locations. Data comes from US NCEI GSOD and CIA World DataBank II"><p class="caption">
GSOD Station Locations. Data comes from US NCEI GSOD and CIA World
DataBank II
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Alduchov1996" class="csl-entry">
Alduchov, Oleg A., and Robert E. Eskridge. 1996. <span>“Improved
<span>Magnus</span> Form Approximation of Saturation Vapor
Pressure.”</span> <em>Journal of Applied Meteorology</em> 35 (4): 601–9.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
